<!DOCTYPE html>
<html lang="en">
<head>
<title>ACE in Action</title>
<style type="text/css" media="screen">
    #editor { 
        position: absolute;
        top: 0;
        right: 700px;
        bottom: 0;
        left: 100px;
    }
   #canvas { 
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 700px;
    }	
</style>
<script src="../ogdf.js"></script>
  <script>
    var G = new Module.Graph();
	var GA = new Module.GraphAttributes(G,Module.nodeGraphics|Module.edgeGraphics|Module.nodeStyle|Module.edgeStyle);
	var len = 11;
	for(var i=1;i<len;i++)
	{
		var left = G.newNode();
		GA.setX(left,-5*(i+1));
		GA.setY(left,-20*i);
		GA.setWidth(left,10*(i+1));
		GA.setHeight(left,15);

		GA.setNodeColor(left,new Module.Color(Module.Name.Blue));
		var bottom = G.newNode();
		GA.setX(bottom,20*(len-i));
		GA.setY(bottom,5*(len+1-i));
		GA.setWidth(bottom,15);
		GA.setHeight(bottom,10*(len+1-i));

		GA.setNodeColor(bottom,new Module.Color(Module.Name.Red));
		
		var e = G.newEdge(left,bottom);
		var st = Module.StrokeType.stSolid;
		var dpl = GA.bends(e);
		dpl.pushBack(new Module.DPoint(10,-20*i));
		dpl.pushBack(new Module.DPoint(20*(len-i),-10));
		GA.setStrokeType(e,st);
		GA.setStrokeWidth(e,1);
		GA.setEdgeColor(e,new Module.Color(Module.Name.Green));
	}

	var tl = new Module.TreeLayout();
	//tl.call(GA);
	var svg = Module.GraphIO.getSVG(GA);
	console.log("SVG for GA method drawSVG is = " + svg);
  </script>
</head>

<body>

<div id="editor">
function foo(items) {
    var x = "All this is syntax highlighted";
    return x;
}
</div>

<div id="canvas">
hello
</div>
    
<script src="ace-builds/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
<script>
    var editor = ace.edit("editor");
    editor.setTheme("ace/theme/monokai");
    editor.getSession().setMode("ace/mode/javascript");
    var ogdf_code = editor.getValue();
</script>
<script>
    var c = document.getElementById('canvas');
    c.innerHTML = svg;
</script>
</body>
</html>
